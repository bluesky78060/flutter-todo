# 🏠 새로운 위젯 버전 적용 가이드

**상황**: 새로운 위젯 코드가 설치되었지만, 이전 위젯들이 홈 화면에 남아있습니다.
**해결**: 기존 위젯을 제거한 후 새 위젯을 다시 추가하세요.

---

## 📋 단계별 가이드

### 1️⃣ 홈 화면에서 기존 위젯 제거

```
1. 홈 화면으로 이동
2. DoDo 위젯을 길게 누르기
3. 나타나는 메뉴에서 "제거" 또는 "삭제" 선택
4. 모든 DoDo 위젯 제거 (오늘의 할일, 달력 등)
```

**스크린샷 위치:**
- 삼성 갤럭시: 홈 화면 → 길게 누르기 → 아래로 드래그 → 삭제

### 2️⃣ 앱 완전 종료

```
1. 설정 → 앱 관리 → DoDo
2. "강제 종료" 버튼 클릭
   또는
   홈 버튼을 눌러 앱 백그라운드 이동
3. 2-3초 대기
```

### 3️⃣ 새 위젯 추가

```
1. 홈 화면으로 이동
2. 빈 공간을 길게 누르기
3. 메뉴에서 "위젯" 또는 "추가" 선택
4. "DoDo" 앱 검색
5. "오늘의 할일" 위젯 선택
6. 홈 화면의 원하는 위치에 추가
```

**결과**: ✅ 새로운 디자인의 위젯이 홈 화면에 나타남!

### 4️⃣ 테마 설정 (선택사항)

원하는 테마로 위젯 모양을 변경할 수 있습니다.

```
1. DoDo 앱 열기
2. 설정 화면으로 이동
3. "위젯 설정" 메뉴 찾기
4. 원하는 테마 선택:
   - 🌞 밝음 (Light)
   - 🌙 어두움 (Dark)
   - 🔮 투명 (Transparent)
   - 🔵 파란색 (Blue)
   - 💜 보라색 (Purple)
5. 설정 저장
```

**반영 시간**: 위젯이 자동으로 새로운 테마로 변경됨 (1-2초)

---

## ⚙️ 새로운 위젯의 기능

### 표시되는 정보
- ✅ 오늘의 할일 (최대 5개)
- 📝 각 할일의 제목
- 🕒 예정된 시간
- ☑️ 완료 여부

### 위젯에서 가능한 작업

#### ☑️ 할일 완료/미완료 토글
```
1. 위젯의 체크박스 클릭
2. 완료 상태가 즉시 변경됨
3. 앱에서도 자동 반영됨
```

#### 🗑️ 할일 삭제
```
1. 위젯의 삭제 버튼(🗑) 클릭
2. 할일이 삭제됨
3. 앱에서도 자동으로 제거됨
```

#### 📱 앱 열기
```
1. 위젯 전체를 탭하기
2. DoDo 앱이 열리면서 할일 목록 표시
```

---

## ⚠️ 주의사항

### 위젯이 표시되지 않을 경우

1. **앱 캐시 초기화**
   ```
   설정 → 앱 관리 → DoDo
   → 저장공간 → 캐시 삭제
   ```

2. **앱 재설치**
   ```
   설정 → 앱 관리 → DoDo
   → 제거 → 재설치
   ```

3. **기기 재부팅**
   ```
   전원 버튼 → 재시작
   ```

### 위젯이 업데이트되지 않을 경우

- 앱을 최신 버전으로 업데이트했는지 확인
- 기기의 날짜/시간 설정 확인
- 홈 화면을 아래로 스와이프하여 새로고침

---

## 🆘 문제 해결

### Q: 위젯을 추가했는데 이전 모양 그대로입니다.

**A**: 홈 화면 캐시가 남아있습니다.
```
1. 위젯 제거
2. 홈 화면을 깨끗이 정리 (다른 위젯도 재배치)
3. 2-3초 대기
4. 새 위젯 추가
```

### Q: 위젯에서 버튼을 눌러도 아무것도 안 됩니다.

**A**: MethodChannel 통신이 정상화되지 않음
```
1. 앱 완전 종료 (강제 종료)
2. 위젯 제거
3. 앱 재실행
4. 위젯 다시 추가
```

### Q: 테마 설정이 적용되지 않습니다.

**A**: SharedPreferences 캐시 문제
```
1. 테마 설정 변경
2. 앱 완전 종료
3. 위젯이 자동으로 갱신됨
```

---

## 🔄 비교: 이전 vs 새로운 위젯

### 이전 위젯 (v1.0)
- ❌ 기본 디자인
- ❌ 테마 미지원
- ❌ 시간 표시 없음
- ❌ 위젯에서 삭제 불가

### 새로운 위젯 (v2.0) ⭐
- ✅ **5가지 테마 지원**
- ✅ **삼성 스타일 디자인**
- ✅ **시간 표시 포함**
- ✅ **위젯에서 완료/삭제 가능**
- ✅ **RemoteViews 동적 렌더링**
- ✅ **MethodChannel 양방향 통신**

---

## 📞 추가 도움말

### 위젯이 정상 작동하는지 확인하는 방법

```
1. 앱에서 새 할일 추가
2. 위젯을 보면 새 할일이 표시되는지 확인
3. 위젯에서 완료 버튼을 클릭
4. 앱을 열어 할일이 완료 상태로 바뀌었는지 확인
```

모두 정상이라면 ✅ 새 위젯이 완벽하게 작동하는 것입니다!

---

**최신 버전**: 62c9c1e (2025-11-27)
**위젯 시스템**: RemoteViews + MethodChannel
**지원 기기**: Android 5.0 (API 21) 이상
