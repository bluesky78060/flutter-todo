# Google OAuth iOS 빠른 설정 가이드 (한글 메뉴)

## 🚀 5분 완성 가이드

### 1️⃣ Google Cloud Console 접속
```
https://console.cloud.google.com/
```

### 2️⃣ 프로젝트 선택/생성
- 상단 **프로젝트 선택** 클릭
- 기존 프로젝트 선택 또는 **새 프로젝트** 클릭
- 프로젝트 이름: `DoDo Todo App`

### 3️⃣ OAuth 동의 화면 설정 (최초 1회만)
```
좌측 메뉴
→ API 및 서비스
→ OAuth 동의 화면
→ 외부 선택
→ 만들기
```

**입력 사항**:
- 앱 이름: `DoDo`
- 사용자 지원 이메일: 본인 이메일
- 개발자 연락처: 본인 이메일
- **저장 후 계속** (3번 클릭)

### 4️⃣ iOS Client ID 생성 ⭐
```
좌측 메뉴
→ API 및 서비스
→ 사용자 인증 정보
→ + 사용자 인증 정보 만들기
→ OAuth 클라이언트 ID
```

**입력 화면**:

| 항목 | 값 |
|------|-----|
| 애플리케이션 유형 | **iOS** 선택 |
| 이름 | `DoDo iOS App` |
| 번들 ID | `kr.bluesky.dodo` ⚠️ 정확히 입력 |
| App Store ID | (비워두기) |

→ **만들기** 클릭

### 5️⃣ Client ID 복사
팝업창이 나타나면:
```
OAuth 클라이언트 생성됨

클라이언트 ID:
123456789-abc...xyz.apps.googleusercontent.com
      ↑ 이 부분 전체를 복사
```

**복사 버튼** 클릭 또는 마우스로 전체 선택 후 복사

### 6️⃣ Info.plist 수정
```bash
# 파일 열기
open ios/Runner/Info.plist
```

**72-73번째 줄 찾기**:
```xml
<key>GIDClientID</key>
<string>YOUR_GOOGLE_CLIENT_ID_HERE</string>
```

**복사한 Client ID로 변경**:
```xml
<key>GIDClientID</key>
<string>123456789-abc...xyz.apps.googleusercontent.com</string>
```

저장 (⌘ + S)

### 7️⃣ 테스트
```bash
flutter clean
flutter run -d <ios-device-id>
```

앱 실행 → Google 로그인 버튼 클릭 → 계정 선택 창 표시 ✅

---

## ⚠️ 주의사항

### ✅ 해야 할 것
- iOS Client ID 사용 (Web Client ID 아님!)
- `.apps.googleusercontent.com` 포함하여 전체 복사
- 번들 ID를 정확히 `kr.bluesky.dodo`로 입력

### ❌ 하면 안 되는 것
- Web용 Client ID 사용
- 복사할 때 앞뒤 공백 포함
- 번들 ID 오타 또는 다른 값 입력

---

## 🔍 검증 명령어

```bash
# Info.plist에서 GIDClientID 확인
grep -A1 "GIDClientID" ios/Runner/Info.plist

# 올바른 출력:
# <key>GIDClientID</key>
# <string>123456789-abc...xyz.apps.googleusercontent.com</string>
```

---

## 📸 스크린샷 참고 (한글 메뉴)

### Google Cloud Console 메뉴 경로

**1. API 및 서비스 메뉴**
```
┌─────────────────────────────────┐
│ ≡ Google Cloud                  │
├─────────────────────────────────┤
│   홈                             │
│   마켓플레이스                   │
│ ▶ API 및 서비스          ◀ 클릭  │
│   ├─ 사용자 인증 정보     ◀ 여기 │
│   ├─ OAuth 동의 화면             │
│   └─ 라이브러리                  │
│   IAM 및 관리자                  │
└─────────────────────────────────┘
```

**2. 사용자 인증 정보 만들기**
```
┌─────────────────────────────────────────┐
│ 사용자 인증 정보                         │
├─────────────────────────────────────────┤
│ + 사용자 인증 정보 만들기  ◀ 클릭        │
│ ┌────────────────────────────────────┐  │
│ │ API 키                              │  │
│ │ OAuth 클라이언트 ID       ◀ 선택    │  │
│ │ 서비스 계정                         │  │
│ └────────────────────────────────────┘  │
└─────────────────────────────────────────┘
```

**3. OAuth 클라이언트 ID 만들기**
```
┌─────────────────────────────────────────┐
│ OAuth 클라이언트 ID 만들기               │
├─────────────────────────────────────────┤
│ 애플리케이션 유형                        │
│ ○ 웹 애플리케이션                        │
│ ○ Android                                │
│ ● iOS                         ◀ 선택     │
│ ○ Chrome 앱                              │
│ ○ 데스크톱 앱                            │
│                                          │
│ 이름: [DoDo iOS App          ]          │
│                                          │
│ 번들 ID: [kr.bluesky.dodo    ] ◀ 입력   │
│                                          │
│ App Store ID: [               ]          │
│              (선택사항)                  │
│                                          │
│           [취소]  [만들기]    ◀ 클릭     │
└─────────────────────────────────────────┘
```

**4. 생성 완료 팝업**
```
┌─────────────────────────────────────────┐
│ OAuth 클라이언트 생성됨          ✓      │
├─────────────────────────────────────────┤
│                                          │
│ 클라이언트 ID                            │
│ ┌────────────────────────────────────┐  │
│ │ 123456789-abc...xyz.apps.google... │📋│
│ └────────────────────────────────────┘  │
│                    ↑ 복사 버튼 클릭     │
│                                          │
│ 클라이언트 보안 비밀번호                 │
│ iOS 앱에는 필요 없음                     │
│                                          │
│      [JSON 다운로드]  [확인]            │
│                        ↑ 클릭하면 닫힘  │
└─────────────────────────────────────────┘
```

---

## 🆘 문제 해결

### "클라이언트가 찾을 수 없음" 오류
→ Client ID를 다시 복사하여 Info.plist에 붙여넣기

### "번들 ID가 일치하지 않음" 오류
→ Google Cloud Console과 Info.plist 둘 다 `kr.bluesky.dodo` 확인

### "앱이 확인되지 않음" 경고
→ 정상입니다. 테스트 사용자로 로그인 가능

---

## 📋 체크리스트

- [ ] Google Cloud Console 접속 완료
- [ ] 프로젝트 생성 또는 선택
- [ ] OAuth 동의 화면 설정 (최초 1회)
- [ ] iOS Client ID 생성
- [ ] 번들 ID를 `kr.bluesky.dodo`로 입력
- [ ] Client ID 복사 완료
- [ ] Info.plist 수정 완료
- [ ] 파일 저장
- [ ] 앱 빌드 및 실행
- [ ] Google 로그인 테스트 성공

---

**소요 시간**: 약 5-10분
**난이도**: ⭐⭐☆☆☆ (쉬움)
